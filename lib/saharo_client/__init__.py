from .client import SaharoClient
from .compat import evaluate_compatibility
from .configs import (
    build_awg_conf,
    build_awg_uri,
    extract_allowed_ips,
    extract_dns,
    parse_endpoint,
    qt_qcompress,
    resolve_access_target,
    split_csv,
)
from .errors import ApiError, AuthError, NetworkError
from .errors_utils import parse_api_error_detail
from .hosts import (
    BootstrapInputs,
    DEFAULT_API_BIND,
    DEFAULT_API_PORT,
    HostError,
    HttpsContext,
    LICENSE_STATE_RELATIVE_POSIX,
    PrereqResult,
    backup_host_dir,
    check_prereqs_local,
    command_exists,
    command_success,
    ensure_https,
    generate_secret_token,
    get_existing_jwt_secret,
    normalize_api_url,
    normalize_domain,
    normalize_remote_install_dir,
    purge_hosts,
    read_env_content,
    read_env_file,
    render_compose,
    render_env,
    render_readme,
    render_vpn_lockdown_script,
    validate_bootstrap_params,
    validate_ssh_key_path,
    write_files_local,
    wipe_host_data_local,
)
from .jobs import job_status_hint, normalize_job_type, wait_job
from .licensing import (
    IMAGE_COMPONENTS,
    LicenseEntitlements,
    LicenseEntitlementsError,
    resolve_entitlements,
)
from .polling import wait_for_server_heartbeat
from .registry import (
    extract_registry_creds_from_snapshot,
    normalize_registry_host,
    resolve_agent_version_from_license_payload,
)
from .resolve import (
    ResolveError,
    find_server_by_name,
    resolve_agent_id_for_agents,
    resolve_agent_id_for_logs,
    resolve_protocol_for_grants,
    resolve_server_id_for_grants,
    resolve_server_id_for_jobs,
    resolve_server_id_for_logs,
    resolve_server_id_for_servers,
    resolve_user_id_for_grants,
    resolve_user_id_for_users,
    validate_route_for_protocol,
)
from .semver import is_version_in_range, parse_semver
from .servers import (
    ServerListPage,
    delete_server,
    detach_server_runtime,
    fetch_server_logs,
    get_server,
    get_server_status,
    get_server_with_protocols,
    list_all_servers,
    list_servers_page,
    resolve_server_id,
)
from .updates import (
    AdminUpdateStatus,
    CliUpdateStatus,
    UpdateCheckResult,
    check_updates,
    clean_versions,
    coerce_int,
    create_agent_update_jobs,
    extract_installations,
    extract_latest_versions,
    extract_linked,
    extract_outdated_agents,
    extract_status,
    format_api_error,
    format_limit,
    host_update,
    platform_id,
    resolve_latest_agent_version,
)

__all__ = [
    "SaharoClient",
    "ApiError",
    "AuthError",
    "NetworkError",
    "evaluate_compatibility",
    "build_awg_conf",
    "build_awg_uri",
    "extract_allowed_ips",
    "extract_dns",
    "parse_endpoint",
    "qt_qcompress",
    "resolve_access_target",
    "split_csv",
    "parse_api_error_detail",
    "HostError",
    "HttpsContext",
    "ensure_https",
    "validate_ssh_key_path",
    "normalize_remote_install_dir",
    "generate_secret_token",
    "validate_bootstrap_params",
    "BootstrapInputs",
    "PrereqResult",
    "DEFAULT_API_BIND",
    "DEFAULT_API_PORT",
    "LICENSE_STATE_RELATIVE_POSIX",
    "command_exists",
    "command_success",
    "check_prereqs_local",
    "render_compose",
    "render_env",
    "render_readme",
    "render_vpn_lockdown_script",
    "read_env_file",
    "read_env_content",
    "get_existing_jwt_secret",
    "backup_host_dir",
    "write_files_local",
    "wipe_host_data_local",
    "normalize_domain",
    "normalize_api_url",
    "purge_hosts",
    "job_status_hint",
    "normalize_job_type",
    "wait_job",
    "IMAGE_COMPONENTS",
    "LicenseEntitlements",
    "LicenseEntitlementsError",
    "resolve_entitlements",
    "wait_for_server_heartbeat",
    "extract_registry_creds_from_snapshot",
    "normalize_registry_host",
    "resolve_agent_version_from_license_payload",
    "ResolveError",
    "find_server_by_name",
    "resolve_agent_id_for_agents",
    "resolve_agent_id_for_logs",
    "resolve_protocol_for_grants",
    "resolve_server_id_for_grants",
    "resolve_server_id_for_jobs",
    "resolve_server_id_for_logs",
    "resolve_server_id_for_servers",
    "resolve_user_id_for_grants",
    "resolve_user_id_for_users",
    "validate_route_for_protocol",
    "is_version_in_range",
    "parse_semver",
    "ServerListPage",
    "list_servers_page",
    "list_all_servers",
    "get_server",
    "get_server_with_protocols",
    "get_server_status",
    "resolve_server_id",
    "detach_server_runtime",
    "delete_server",
    "fetch_server_logs",
    "CliUpdateStatus",
    "AdminUpdateStatus",
    "UpdateCheckResult",
    "check_updates",
    "clean_versions",
    "coerce_int",
    "create_agent_update_jobs",
    "extract_installations",
    "extract_latest_versions",
    "extract_linked",
    "extract_outdated_agents",
    "extract_status",
    "format_api_error",
    "format_limit",
    "host_update",
    "platform_id",
    "resolve_latest_agent_version",
]
